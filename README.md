# Рикитаке 3d модель

В данном проекте работа, сделанная в рамках курса по вычислительной математике (Численное моделирование динамических систем)

Работа представляет собой моделирование ищменсивости состояний магнитого поля земли, а именно 3D-модель Рикитаке.

## Описание 3d модели

Первоначальная формулировка модели взята из книги [Воропаева, О. Ф. "Основы численного анализа динамических систем"](http://www.ict.nsc.ru/matmod/files/textbooks/Voropaeva-NumAnalDynSys.pdf) (Новосибирск: Новосибирский государственный университет, 2022, 234 c.).

Похожее моделирование на [вольфрам](https://demonstrations.wolfram.com/RikitakeModelOfGeomagneticReversal/)

Оригинальные уравнения, описывающие систему, выглядят следующим образом:

$$L_1\frac{dI_1}{dt}+R_1I_1=\Omega_1MI_2,$$

$$
L_2\frac{dI_2}{dt}+R_2I_2=\Omega_2MI_1,
$$

$$
C_1\frac{d\Omega_1}{dt}=G_1-I_1,I_2,
$$

$$
C_{1}\frac{d\Omega_{1}}{dt}=G_{2}-I_{1},I_{2}
$$

где $L_1$ и $L_2$ - самоиндуктивности катушек, $R_1$ и $R_2$ - сопротивления, $I_1$ и $I_2$ - электрические токи, $\Omega_1$

и $\Omega_2$ - угловые скорости, $C_1$ и $C_2$ - моменты инерции, а $G_1$ и $G_2$ - движущие силы. Для упрощения принимаем

$$
I_{1}=I_{2},R_{1}=R_{2},M=N,C_{1}=C_{2},G_{1}=G_{2},
$$

и делаем замены

$I_{1}=\sqrt{\frac{G}{M}}x,I_{2}=\sqrt{\frac{G}{M}}y,\Omega_{1}=\sqrt{\frac{GL}{CM}}z,\Omega_{2}=\sqrt{\frac{GL}{CM}}(z-a),t=\sqrt{\frac{CL}{GM}}t^{\prime},\nu=\sqrt{\frac{C}{LMG}}$ с параметром $\nu>0$, мы получаем
$$\dot{x}=-\nu x+2y,$$
$$\dot{y}=-\nu y+(z-a)x,$$
$$\dot{z}=1-xy.$$
Система Рикитаке демонстрирует хаос типа Лоренца, орбитуя вокруг двух нестабильных фиксированных точек.

## Getting started

Выполните следующие команды для клонирования репозитория и установки зависимостей:

```bash
git clone https://github.com/TeUm3048/rikitake_vychmat.git
cd rikitake_vychmat
```

## Зависимости

Для компиляции и запуска этого проекта вам потребуются следующие библиотеки и инструменты:

- [Boost](https://www.boost.org/)
- [CMake](https://cmake.org/)

Выполните следующий скрипт для установки всех необходимых зависимостей:

```bash
scrips/install_libs.sh
```

Он установит все необходимые библиотеки и инструменты в вашу систему.

## Компиляция

Для компиляции этого проекта вам потребуется установленный CMake версии 3.10 или выше, а также компилятор, поддерживающий стандарт C++11.

Вот инструкции по компиляции проекта

Запустите следующую команду:

```bash
scrips/build.sh
```

Это команда выполнит следующие шаги для компиляции проекта:

1. Создайте директорию `build` в корневой папке проекта.
2. Перейдите в директорию `build`.
3. Откройте командную строку или терминал в этой директории.
4. Выполните команду `cmake ..` для генерации файлов сборки.
5. После успешной генерации файлов сборки, выполните команду `cmake --build .` для компиляции проекта.
6. После завершения компиляции, исполняемый файл `main` будет создан в директории `build`.
7. Скопируйте полученный файл `main` из папки `build` в корневую папку проекта.

Теперь вы можете запустить исполняемый файл `main` для выполнения программы.

Обратите внимание, что если у вас отсутствуют необходимые библиотеки (например, Boost, SDL2, X11, OpenGL, GLU), вам может потребоваться установить их и указать пути к ним в файле CMakeLists.txt перед выполнением шагов выше.

## Запуск

Для запуска программы выполните следующую команду:

```bash
./main
```

Это команда выведет результаты работы программы в консоль, для некоторых начальных данных.

Чтобы узнать о доступных опциях и аргументах командной строки, выполните следующую команду:

```bash
./main --help
```

Пример вывода:

```bash
./main --solver RK4 --end 200 --step 1e-2 --every 20
time,x,y,z
0.00000000e+00,2.00000000e+00,1.00000000e+00,4.00000000e+00
2.00000000e-01,2.40270506e+00,1.16468972e+00,3.71891953e+00
4.00000000e-01,2.72708300e+00,1.19118133e+00,3.30364654e+00
6.00000000e-01,2.85631465e+00,1.01321441e+00,2.87478763e+00
8.00000000e-01,2.75746293e+00,6.82193799e-01,2.59122258e+00
1.00000000e+00,2.48805275e+00,3.38984112e-01,2.52330438e+00
1.20000000e+00,2.13082733e+00,9.53795196e-02,2.62629497e+00
1.40000000e+00,1.75669916e+00,-2.13181935e-02,2.81500499e+00
1.60000000e+00,1.41836620e+00,-4.02427625e-02,3.02665677e+00
1.80000000e+00,1.14769406e+00,-2.83200954e-03,3.23313888e+00
2.00000000e+00,9.57084180e-01,6.03550185e-02,3.42759490e+00
```

